<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluaci√≥n Vocacional y Profesional - CO‚Ä¢RA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: radial-gradient(circle at center, #16a085, #1abc9c);
            color: #ffffff;
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(0,0,0,0.9);
            border-radius: 25px;
            padding: 40px;
            border: 3px solid #16a085;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .title {
            color: #16a085;
            font-size: 2.2rem;
            margin-bottom: 15px;
        }
        .vocational-area {
            background: rgba(22, 160, 133, 0.1);
            border: 2px solid #16a085;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            display: none;
        }
        .vocational-area.active {
            display: block;
            animation: areaIn 0.8s ease-out;
        }
        @keyframes areaIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .area-title {
            color: #16a085;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        .vocational-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
            background: rgba(0,0,0,0.8);
            border-radius: 15px;
            padding: 20px;
        }
        .vocational-metric {
            text-align: center;
            padding: 15px;
            background: rgba(22, 160, 133, 0.2);
            border-radius: 10px;
            border: 1px solid #16a085;
        }
        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #16a085;
            margin-bottom: 5px;
        }
        .metric-label {
            font-size: 0.9rem;
            color: #48c9b0;
        }
        .vocational-question {
            background: rgba(0,0,0,0.6);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid #48c9b0;
        }
        .question-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .vocational-options {
            display: grid;
            gap: 12px;
        }
        .vocational-option {
            background: rgba(72, 201, 176, 0.2);
            border: 2px solid #48c9b0;
            color: #ffffff;
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }
        .vocational-option:hover {
            background: rgba(22, 160, 133, 0.3);
            border-color: #16a085;
            transform: translateX(5px);
        }
        .vocational-option.selected {
            background: rgba(22, 160, 133, 0.5);
            border-color: #ffffff;
        }
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .skill-item {
            background: rgba(22, 160, 133, 0.2);
            border: 2px solid #48c9b0;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .skill-item:hover {
            background: rgba(22, 160, 133, 0.3);
        }
        .skill-item.selected {
            background: rgba(22, 160, 133, 0.5);
            border-color: #ffffff;
        }
        .contribution-input {
            width: 100%;
            min-height: 120px;
            background: rgba(0,0,0,0.6);
            border: 2px solid #48c9b0;
            border-radius: 10px;
            color: #ffffff;
            padding: 15px;
            font-size: 1rem;
            resize: vertical;
        }
        .results-container {
            display: none;
            background: rgba(0,0,0,0.95);
            border: 3px solid #16a085;
            border-radius: 25px;
            padding: 40px;
            margin-top: 30px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">üéØ Evaluaci√≥n Vocacional y Profesional CO‚Ä¢RA</h1>
            <p style="color: #48c9b0; margin-bottom: 20px;">
                Evaluaci√≥n de proyecto de vida, habilidades profesionales, contribuci√≥n a la sociedad y alineaci√≥n vocacional
            </p>
        </div>

        <div class="vocational-dashboard" id="vocationalDashboard">
            <div class="vocational-metric">
                <div class="metric-value" id="purposeScore">0</div>
                <div class="metric-label">Prop√≥sito Profesional</div>
            </div>
            <div class="vocational-metric">
                <div class="metric-value" id="skillsScore">0</div>
                <div class="metric-label">Habilidades</div>
            </div>
            <div class="vocational-metric">
                <div class="metric-value" id="contributionScore">0</div>
                <div class="metric-label">Contribuci√≥n</div>
            </div>
            <div class="vocational-metric">
                <div class="metric-value" id="alignmentScore">0</div>
                <div class="metric-label">Alineaci√≥n CO‚Ä¢RA</div>
            </div>
            <div class="vocational-metric">
                <div class="metric-value" id="growthScore">0</div>
                <div class="metric-label">Potencial Crecimiento</div>
            </div>
        </div>

        <!-- Test 1: Prop√≥sito Profesional -->
        <div class="vocational-area active" id="area1">
            <h2 class="area-title">Test 1: Prop√≥sito Profesional</h2>
            <div class="vocational-question">
                <div class="question-text">
                    ¬øC√≥mo describes tu relaci√≥n actual con tu trabajo o proyecto de vida profesional?
                </div>
                <div class="vocational-options">
                    <div class="vocational-option" onclick="selectVocational(1, 1)" data-score="100">
                        Mi trabajo es mi pasi√≥n y contribuye significativamente al bienestar de otros
                    </div>
                    <div class="vocational-option" onclick="selectVocational(1, 2)" data-score="80">
                        Disfruto mi trabajo y siento que tiene prop√≥sito, aunque podr√≠a mejorar
                    </div>
                    <div class="vocational-option" onclick="selectVocational(1, 3)" data-score="60">
                        Mi trabajo es satisfactorio pero busco mayor significado y prop√≥sito
                    </div>
                    <div class="vocational-option" onclick="selectVocational(1, 4)" data-score="40">
                        Trabajo principalmente por necesidad, no por pasi√≥n o prop√≥sito
                    </div>
                    <div class="vocational-option" onclick="selectVocational(1, 5)" data-score="20">
                        Estoy insatisfecho con mi situaci√≥n profesional actual
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 2: Habilidades y Competencias -->
        <div class="vocational-area" id="area2">
            <h2 class="area-title">Test 2: Habilidades y Competencias</h2>
            <div class="vocational-question">
                <div class="question-text">
                    Selecciona las 5 habilidades en las que te consideras m√°s competente:
                </div>
                <div class="skills-grid" id="skillsGrid">
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="leadership">Liderazgo</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="communication">Comunicaci√≥n</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="analysis">An√°lisis</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="creativity">Creatividad</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="technology">Tecnolog√≠a</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="teaching">Ense√±anza</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="research">Investigaci√≥n</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="organization">Organizaci√≥n</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="innovation">Innovaci√≥n</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="empathy">Empat√≠a</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="strategy">Estrategia</div>
                    <div class="skill-item" onclick="selectSkill(this)" data-skill="collaboration">Colaboraci√≥n</div>
                </div>
            </div>
        </div>

        <!-- Test 3: Contribuci√≥n a la Sociedad -->
        <div class="vocational-area" id="area3">
            <h2 class="area-title">Test 3: Contribuci√≥n a la Sociedad</h2>
            <div class="vocational-question">
                <div class="question-text">
                    ¬øCu√°l consideras que es tu mayor contribuci√≥n actual o potencial a la sociedad?
                </div>
                <div class="vocational-options">
                    <div class="vocational-option" onclick="selectVocational(3, 1)" data-score="100">
                        Genero conocimiento, innovaci√≥n o soluciones que benefician a muchas personas
                    </div>
                    <div class="vocational-option" onclick="selectVocational(3, 2)" data-score="90">
                        Educo, inspiro o gu√≠o a otros en su desarrollo personal y profesional
                    </div>
                    <div class="vocational-option" onclick="selectVocational(3, 3)" data-score="80">
                        Proporciono servicios esenciales que mejoran la calidad de vida de otros
                    </div>
                    <div class="vocational-option" onclick="selectVocational(3, 4)" data-score="70">
                        Apoyo y facilito el trabajo de otros para que puedan ser m√°s efectivos
                    </div>
                    <div class="vocational-option" onclick="selectVocational(3, 5)" data-score="50">
                        A√∫n estoy descubriendo c√≥mo puedo contribuir mejor a la sociedad
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 4: Alineaci√≥n con CO‚Ä¢RA -->
        <div class="vocational-area" id="area4">
            <h2 class="area-title">Test 4: Alineaci√≥n con CO‚Ä¢RA</h2>
            <div class="vocational-question">
                <div class="question-text">
                    ¬øC√≥mo ves la integraci√≥n de tu desarrollo profesional con la misi√≥n de CO‚Ä¢RA?
                </div>
                <div class="vocational-options">
                    <div class="vocational-option" onclick="selectVocational(4, 1)" data-score="100">
                        Mi vocaci√≥n se alinea perfectamente con amplificar la consciencia humana
                    </div>
                    <div class="vocational-option" onclick="selectVocational(4, 2)" data-score="85">
                        Veo claras oportunidades de contribuir a CO‚Ä¢RA desde mi √°rea profesional
                    </div>
                    <div class="vocational-option" onclick="selectVocational(4, 3)" data-score="70">
                        Estoy dispuesto a adaptar mi carrera para alinearla con los objetivos de CO‚Ä¢RA
                    </div>
                    <div class="vocational-option" onclick="selectVocational(4, 4)" data-score="55">
                        Necesito explorar m√°s c√≥mo mi profesi√≥n puede contribuir a CO‚Ä¢RA
                    </div>
                    <div class="vocational-option" onclick="selectVocational(4, 5)" data-score="40">
                        Veo CO‚Ä¢RA como separado de mi desarrollo profesional actual
                    </div>
                </div>
            </div>
        </div>

        <!-- Test 5: Visi√≥n de Contribuci√≥n -->
        <div class="vocational-area" id="area5">
            <h2 class="area-title">Test 5: Visi√≥n de Contribuci√≥n a CO‚Ä¢RA</h2>
            <div class="vocational-question">
                <div class="question-text">
                    Describe espec√≠ficamente c√≥mo planeas contribuir profesionalmente a CO‚Ä¢RA y qu√© proyectos te gustar√≠a desarrollar:
                </div>
                <textarea class="contribution-input" id="contributionInput" placeholder="Describe tus ideas de proyectos, tu visi√≥n de contribuci√≥n profesional a CO‚Ä¢RA, y c√≥mo tus habilidades pueden servir a la amplificaci√≥n cognitiva colectiva..."></textarea>
            </div>
        </div>

        <div class="results-container" id="resultsContainer">
            <h2 style="color: #16a085; margin-bottom: 25px;">üéØ Evaluaci√≥n Vocacional Completada</h2>
            <div id="vocationalResults"></div>
        </div>
    </div>

    <script>
        let currentArea = 1;
        let vocationalScores = {purpose: 0, skills: 0, contribution: 0, alignment: 0, growth: 0};
        let vocationalResponses = {};
        let selectedSkills = [];

        function selectVocational(area, option) {
            const options = document.querySelectorAll(`#area${area} .vocational-option`);
            options.forEach(opt => opt.classList.remove('selected'));
            
            const selectedOption = event.target;
            selectedOption.classList.add('selected');
            
            const score = parseInt(selectedOption.dataset.score);
            vocationalResponses[area] = { option, score };
            
            // Actualizar dashboard
            const metrics = ['purpose', 'skills', 'contribution', 'alignment', 'growth'];
            const metricIds = ['purposeScore', 'skillsScore', 'contributionScore', 'alignmentScore', 'growthScore'];
            
            if (area <= 5 && area !== 2 && area !== 5) {
                vocationalScores[metrics[area-1]] = score;
                document.getElementById(metricIds[area-1]).textContent = score;
            }
            
            setTimeout(() => {
                nextArea();
            }, 1000);
        }

        function selectSkill(element) {
            if (element.classList.contains('selected')) {
                element.classList.remove('selected');
                selectedSkills = selectedSkills.filter(s => s !== element.dataset.skill);
            } else if (selectedSkills.length < 5) {
                element.classList.add('selected');
                selectedSkills.push(element.dataset.skill);
            }
            
            if (selectedSkills.length === 5) {
                // Calcular puntuaci√≥n basada en habilidades seleccionadas
                const coraRelevantSkills = ['leadership', 'communication', 'analysis', 'creativity', 'technology', 'teaching', 'research', 'innovation'];
                const relevantCount = selectedSkills.filter(s => coraRelevantSkills.includes(s)).length;
                const score = (relevantCount / 5) * 100;
                
                vocationalScores.skills = Math.round(score);
                document.getElementById('skillsScore').textContent = Math.round(score);
                
                setTimeout(() => {
                    nextArea();
                }, 1500);
            }
        }

        function evaluateContribution() {
            const contribution = document.getElementById('contributionInput').value;
            const words = contribution.split(/\s+/).filter(word => word.length > 0);
            
            // Palabras clave que indican alineaci√≥n con CO‚Ä¢RA
            const coraKeywords = ['amplificaci√≥n', 'cognitivo', 'consciencia', 'conocimiento', 'innovaci√≥n', 'tecnolog√≠a', 'educaci√≥n', 'investigaci√≥n', 'desarrollo', 'humanidad'];
            const coraWords = words.filter(word => 
                coraKeywords.some(keyword => word.toLowerCase().includes(keyword))
            );
            
            let growthScore = Math.min(100, (coraWords.length / Math.max(words.length, 1)) * 200 + (words.length > 100 ? 30 : 0));
            growthScore = Math.max(30, growthScore); // M√≠nimo 30 por participar
            
            vocationalScores.growth = Math.round(growthScore);
            document.getElementById('growthScore').textContent = Math.round(growthScore);
        }

        function nextArea() {
            if (currentArea === 2 && selectedSkills.length < 5) {
                return; // No avanzar hasta seleccionar 5 habilidades
            }
            
            document.getElementById(`area${currentArea}`).classList.remove('active');
            currentArea++;
            
            if (currentArea <= 5) {
                setTimeout(() => {
                    document.getElementById(`area${currentArea}`).classList.add('active');
                }, 500);
            } else {
                evaluateContribution();
                setTimeout(() => {
                    showResults();
                }, 1000);
            }
        }

        function showResults() {
            document.querySelectorAll('.vocational-area').forEach(area => area.style.display = 'none');
            
            const overallVocational = Object.values(vocationalScores).reduce((a, b) => a + b, 0) / 5;
            const vocationalProfile = determineVocationalProfile(overallVocational, vocationalScores);
            
            document.getElementById('vocationalResults').innerHTML = generateVocationalResults(vocationalProfile, overallVocational);
            document.getElementById('resultsContainer').style.display = 'block';
        }

        function determineVocationalProfile(overall, scores) {
            const minScore = Math.min(...Object.values(scores));
            
            if (overall >= 85 && minScore >= 70) {
                return {
                    level: 'L√çDER VOCACIONAL CO‚Ä¢RA',
                    color: '#16a085',
                    description: 'Perfecta alineaci√≥n vocacional con la misi√≥n CO‚Ä¢RA. Listo para liderar proyectos de amplificaci√≥n.',
                    role: 'Director de Proyecto o Coordinador de √Årea Especializada',
                    projects: 'Desarrollo de nuevas tecnolog√≠as de amplificaci√≥n cognitiva',
                    nextStep: 'integracion_completa.html',
                    buttonText: 'üöÄ INTEGRACI√ìN COMPLETA CO‚Ä¢RA'
                };
            } else if (overall >= 70 && minScore >= 50) {
                return {
                    level: 'PROFESIONAL CO‚Ä¢RA',
                    color: '#1abc9c',
                    description: 'Excelente potencial profesional con clara contribuci√≥n a CO‚Ä¢RA.',
                    role: 'Especialista en √°rea de expertise con responsabilidades de proyecto',
                    projects: 'Implementaci√≥n de soluciones espec√≠ficas en tu √°rea',
                    nextStep: 'integracion_completa.html',
                    buttonText: 'üöÄ INTEGRACI√ìN COMPLETA CO‚Ä¢RA'
                };
            } else if (overall >= 50) {
                return {
                    level: 'COLABORADOR EN DESARROLLO',
                    color: '#48c9b0',
                    description: 'Potencial vocacional que requiere desarrollo y alineaci√≥n con CO‚Ä¢RA.',
                    role: 'Miembro activo con programa de desarrollo profesional',
                    projects: 'Participaci√≥n en proyectos bajo mentoreo especializado',
                    nextStep: 'desarrollo_vocacional.html',
                    buttonText: 'üìà DESARROLLO VOCACIONAL'
                };
            } else {
                return {
                    level: 'EXPLORADOR VOCACIONAL',
                    color: '#7fb3d3',
                    description: 'Necesario desarrollo vocacional y clarificaci√≥n de contribuci√≥n a CO‚Ä¢RA.',
                    role: 'Programa de orientaci√≥n vocacional y descubrimiento de prop√≥sito',
                    projects: 'Exploraci√≥n de diferentes √°reas antes de especializaci√≥n',
                    nextStep: 'orientacion_vocacional.html',
                    buttonText: 'üß≠ ORIENTACI√ìN VOCACIONAL'
                };
            }
        }

        function getSkillsDescription() {
            const skillDescriptions = {
                leadership: 'Liderazgo',
                communication: 'Comunicaci√≥n',
                analysis: 'An√°lisis',
                creativity: 'Creatividad',
                technology: 'Tecnolog√≠a',
                teaching: 'Ense√±anza',
                research: 'Investigaci√≥n',
                organization: 'Organizaci√≥n',
                innovation: 'Innovaci√≥n',
                empathy: 'Empat√≠a',
                strategy: 'Estrategia',
                collaboration: 'Colaboraci√≥n'
            };
            return selectedSkills.map(s => skillDescriptions[s]).join(', ');
        }

        function generateVocationalResults(profile, overall) {
            return `
                <div style="background: rgba(22, 160, 133, 0.2); padding: 25px; border-radius: 15px; margin: 20px 0;">
                    <h3 style="color: ${profile.color}; margin-bottom: 15px;">
                        Perfil Vocacional: ${profile.level}
                    </h3>
                    <p style="margin-bottom: 15px; line-height: 1.6;">
                        ${profile.description}
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="color: #16a085; font-weight: bold;">Prop√≥sito</div>
                            <div style="font-size: 1.3rem; color: white;">${vocationalScores.purpose}</div>
                        </div>
                        <div style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="color: #16a085; font-weight: bold;">Habilidades</div>
                            <div style="font-size: 1.3rem; color: white;">${vocationalScores.skills}</div>
                        </div>
                        <div style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="color: #16a085; font-weight: bold;">Contribuci√≥n</div>
                            <div style="font-size: 1.3rem; color: white;">${vocationalScores.contribution}</div>
                        </div>
                        <div style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="color: #16a085; font-weight: bold;">Alineaci√≥n</div>
                            <div style="font-size: 1.3rem; color: white;">${vocationalScores.alignment}</div>
                        </div>
                        <div style="background: rgba(0,0,0,0.6); padding: 15px; border-radius: 10px; text-align: center;">
                            <div style="color: #16a085; font-weight: bold;">Crecimiento</div>
                            <div style="font-size: 1.3rem; color: white;">${vocationalScores.growth}</div>
                        </div>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.6); padding: 20px; border-radius: 15px; margin: 20px 0;">
                        <h4 style="color: #16a085; margin-bottom: 10px;">üõ†Ô∏è Habilidades Principales:</h4>
                        <p style="margin-bottom: 10px;">${getSkillsDescription()}</p>
                        
                        <h4 style="color: #16a085; margin-bottom: 10px;">üèõÔ∏è Rol en CO‚Ä¢RA:</h4>
                        <p style="margin-bottom: 10px;">${profile.role}</p>
                        
                        <h4 style="color: #16a085; margin-bottom: 10px;">üöÄ Proyectos Sugeridos:</h4>
                        <p>${profile.projects}</p>
                    </div>
                    
                    <div style="background: rgba(22, 160, 133, 0.1); padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <strong>Puntuaci√≥n Vocacional Integral:</strong> ${Math.round(overall)}/100
                    </div>
                </div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <a href="${profile.nextStep}" style="
                        background: linear-gradient(135deg, ${profile.color}, #48c9b0);
                        color: white;
                        padding: 20px 40px;
                        border-radius: 25px;
                        text-decoration: none;
                        font-weight: bold;
                        font-size: 1.2rem;
                        display: inline-block;
                    ">${profile.buttonText}</a>
                    
                    <p style="margin-top: 15px; color: #48c9b0; font-size: 0.9rem;">
                        Tu perfil vocacional determina tu contribuci√≥n espec√≠fica a CO‚Ä¢RA
                    </p>
                </div>
            `;
        }
    </script>
    <script src="token_manager.js"></script>
    <script src="analytics_engine.js"></script>
</body>
</html>