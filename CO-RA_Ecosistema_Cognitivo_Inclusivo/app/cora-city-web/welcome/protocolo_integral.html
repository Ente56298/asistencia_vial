<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protocolo Integral de Evaluaci√≥n - CO‚Ä¢RA</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(0,0,0,0.9);
            border-radius: 25px;
            padding: 40px;
            border: 3px solid #667eea;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .title {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        .phase {
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid #667eea;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            display: none;
        }
        .phase.active {
            display: block;
            animation: phaseIn 0.8s ease-out;
        }
        @keyframes phaseIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .phase-title {
            color: #667eea;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .phase-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .progress-bar {
            background: rgba(0,0,0,0.6);
            height: 10px;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }
        .question-box {
            background: rgba(0,0,0,0.6);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid #764ba2;
        }
        .input-field {
            width: 100%;
            min-height: 100px;
            background: rgba(0,0,0,0.6);
            border: 2px solid #764ba2;
            border-radius: 10px;
            color: #ffffff;
            padding: 15px;
            font-size: 1rem;
            resize: vertical;
        }
        .continue-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 20px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }
        .continue-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        .results-container {
            display: none;
            background: rgba(0,0,0,0.95);
            border: 3px solid #667eea;
            border-radius: 25px;
            padding: 40px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">üß≠ Protocolo Integral de Evaluaci√≥n CO‚Ä¢RA</h1>
            <p style="color: #764ba2; margin-bottom: 20px;">
                Evaluaci√≥n completa del ser humano en 7 fases: preparaci√≥n, cognitiva, emocional, √©tica, vocacional, integraci√≥n y desarrollo
            </p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">Fase 1 de 7 - Preparaci√≥n e Inicio</p>
        </div>

        <!-- Fase 1: Preparaci√≥n e Inicio -->
        <div class="phase active" id="phase1">
            <h2 class="phase-title">
                <div class="phase-number">1</div>
                Preparaci√≥n e Inicio
            </h2>
            <div class="question-box">
                <h3 style="color: #667eea; margin-bottom: 15px;">Prop√≥sito de tu evaluaci√≥n</h3>
                <p style="margin-bottom: 15px;">¬øCu√°l es tu objetivo principal al realizar esta evaluaci√≥n integral?</p>
                <select id="purpose" style="width: 100%; padding: 10px; background: rgba(0,0,0,0.6); color: white; border: 2px solid #764ba2; border-radius: 5px;">
                    <option value="">Selecciona tu prop√≥sito...</option>
                    <option value="crecimiento">Crecimiento personal y autoconocimiento</option>
                    <option value="cora">Integraci√≥n y amplificaci√≥n cognitiva en CO‚Ä¢RA</option>
                    <option value="vocacional">Orientaci√≥n vocacional y profesional</option>
                    <option value="desarrollo">Desarrollo de habilidades espec√≠ficas</option>
                </select>
            </div>
            
            <div class="question-box">
                <h3 style="color: #667eea; margin-bottom: 15px;">Autodiagn√≥stico Inicial</h3>
                <p style="margin-bottom: 10px;"><strong>¬øQu√© consideras que son tus mayores virtudes?</strong></p>
                <textarea id="virtues" class="input-field" placeholder="Describe tus fortalezas, talentos y cualidades positivas..."></textarea>
                
                <p style="margin: 15px 0 10px;"><strong>¬øQu√© defectos o dificultades te generan problemas?</strong></p>
                <textarea id="defects" class="input-field" placeholder="Identifica √°reas de mejora, debilidades o patrones problem√°ticos..."></textarea>
                
                <p style="margin: 15px 0 10px;"><strong>¬øEn qu√© momentos te sientes m√°s fuerte o m√°s vulnerable?</strong></p>
                <textarea id="moments" class="input-field" placeholder="Describe situaciones donde te sientes empoderado vs. situaciones que te desaf√≠an..."></textarea>
            </div>
            
            <button class="continue-btn" onclick="nextPhase()">Continuar a Evaluaci√≥n Cognitiva ‚Üí</button>
        </div>

        <!-- Fase 2: Evaluaci√≥n Cognitiva -->
        <div class="phase" id="phase2">
            <h2 class="phase-title">
                <div class="phase-number">2</div>
                Evaluaci√≥n Cognitiva y Creativa
            </h2>
            <div class="question-box">
                <p style="margin-bottom: 20px;">Esta fase medir√° tus capacidades intelectuales y estilos de pensamiento mediante tests profesionales validados.</p>
                <div style="background: rgba(102, 126, 234, 0.2); padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">Tests a realizar:</h4>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Inteligencias M√∫ltiples (Gardner)</li>
                        <li>Matrices Progresivas de Raven</li>
                        <li>Test de Creatividad (Torrance)</li>
                        <li>Razonamiento L√≥gico y Abstracto</li>
                    </ul>
                </div>
            </div>
            <button class="continue-btn" onclick="redirectTo('evaluacion_cognitiva.html')">Iniciar Evaluaci√≥n Cognitiva ‚Üí</button>
        </div>

        <!-- Fase 3: Evaluaci√≥n Emocional -->
        <div class="phase" id="phase3">
            <h2 class="phase-title">
                <div class="phase-number">3</div>
                Evaluaci√≥n Emocional y de Personalidad
            </h2>
            <div class="question-box">
                <p style="margin-bottom: 20px;">Identificaremos virtudes emocionales y patrones de regulaci√≥n emocional.</p>
                <div style="background: rgba(102, 126, 234, 0.2); padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">Tests a realizar:</h4>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Inteligencia Emocional (TMMS-24)</li>
                        <li>Big Five (OCEAN)</li>
                        <li>MBTI (Myers-Briggs)</li>
                        <li>Regulaci√≥n Emocional</li>
                    </ul>
                </div>
            </div>
            <button class="continue-btn" onclick="redirectTo('evaluacion_socioemocional.html')">Iniciar Evaluaci√≥n Emocional ‚Üí</button>
        </div>

        <!-- Fase 4: Evaluaci√≥n √âtica y Social -->
        <div class="phase" id="phase4">
            <h2 class="phase-title">
                <div class="phase-number">4</div>
                Evaluaci√≥n √âtica, Social y Relacional
            </h2>
            <div class="question-box">
                <p style="margin-bottom: 20px;">Analizaremos valores, v√≠nculos y roles en grupo.</p>
                <div style="background: rgba(102, 126, 234, 0.2); padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">Tests a realizar:</h4>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Inventario de Valores (Schwartz)</li>
                        <li>Fortalezas de Car√°cter (VIA)</li>
                        <li>Roles de Equipo (Belbin)</li>
                        <li>Asertividad (Rathus)</li>
                    </ul>
                </div>
            </div>
            <button class="continue-btn" onclick="redirectTo('evaluacion_social.html')">Iniciar Evaluaci√≥n Social ‚Üí</button>
        </div>

        <!-- Fase 5: Exploraci√≥n Vocacional -->
        <div class="phase" id="phase5">
            <h2 class="phase-title">
                <div class="phase-number">5</div>
                Exploraci√≥n Vocacional y de Sentido
            </h2>
            <div class="question-box">
                <p style="margin-bottom: 20px;">Evaluaremos prop√≥sito de vida, resiliencia y orientaci√≥n vocacional.</p>
                <div style="background: rgba(102, 126, 234, 0.2); padding: 20px; border-radius: 10px; margin: 15px 0;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">Tests a realizar:</h4>
                    <ul style="margin-left: 20px; line-height: 1.8;">
                        <li>Sentido de Vida (PIL)</li>
                        <li>Escala de Resiliencia</li>
                        <li>Orientaci√≥n Vocacional</li>
                        <li>Entrevista Narrativa</li>
                    </ul>
                </div>
            </div>
            <button class="continue-btn" onclick="redirectTo('evaluacion_espiritual.html')">Iniciar Evaluaci√≥n Espiritual ‚Üí</button>
        </div>

        <!-- Fase 6: Integraci√≥n -->
        <div class="phase" id="phase6">
            <h2 class="phase-title">
                <div class="phase-number">6</div>
                Integraci√≥n y S√≠ntesis
            </h2>
            <div class="question-box">
                <h3 style="color: #667eea; margin-bottom: 15px;">An√°lisis Cruzado de Resultados</h3>
                <p style="margin-bottom: 20px;">Generaremos tu perfil integral identificando patrones comunes entre todas las evaluaciones.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                    <div style="background: rgba(46, 204, 113, 0.2); padding: 20px; border-radius: 10px; border: 2px solid #2ecc71;">
                        <h4 style="color: #2ecc71; margin-bottom: 10px;">‚úÖ Virtudes Predominantes</h4>
                        <p style="font-size: 0.9rem;">Fortalezas identificadas en m√∫ltiples √°reas</p>
                    </div>
                    <div style="background: rgba(231, 76, 60, 0.2); padding: 20px; border-radius: 10px; border: 2px solid #e74c3c;">
                        <h4 style="color: #e74c3c; margin-bottom: 10px;">‚ö†Ô∏è Defectos Limitantes</h4>
                        <p style="font-size: 0.9rem;">√Åreas que requieren atenci√≥n prioritaria</p>
                    </div>
                    <div style="background: rgba(52, 152, 219, 0.2); padding: 20px; border-radius: 10px; border: 2px solid #3498db;">
                        <h4 style="color: #3498db; margin-bottom: 10px;">üöÄ Potenciales de Desarrollo</h4>
                        <p style="font-size: 0.9rem;">Capacidades con mayor margen de crecimiento</p>
                    </div>
                    <div style="background: rgba(243, 156, 18, 0.2); padding: 20px; border-radius: 10px; border: 2px solid #f39c12;">
                        <h4 style="color: #f39c12; margin-bottom: 10px;">üîç √Åreas de Riesgo</h4>
                        <p style="font-size: 0.9rem;">Patrones que requieren monitoreo</p>
                    </div>
                </div>
            </div>
            <button class="continue-btn" onclick="nextPhase()">Continuar a Plan de Desarrollo ‚Üí</button>
        </div>

        <!-- Fase 7: Plan de Desarrollo -->
        <div class="phase" id="phase7">
            <h2 class="phase-title">
                <div class="phase-number">7</div>
                Plan de Desarrollo Personal
            </h2>
            <div class="question-box">
                <h3 style="color: #667eea; margin-bottom: 15px;">Metas SMART Personalizadas</h3>
                <p style="margin-bottom: 15px;">Bas√°ndote en tus resultados, define 3 metas espec√≠ficas para los pr√≥ximos 6 meses:</p>
                
                <div style="margin: 20px 0;">
                    <h4 style="color: #2ecc71; margin-bottom: 10px;">Meta 1: Reforzar Virtudes</h4>
                    <textarea id="goal1" class="input-field" placeholder="Ej: Desarrollar mi liderazgo natural mediante la coordinaci√≥n de un proyecto grupal en los pr√≥ximos 3 meses..."></textarea>
                </div>
                
                <div style="margin: 20px 0;">
                    <h4 style="color: #e74c3c; margin-bottom: 10px;">Meta 2: Reducir Defectos</h4>
                    <textarea id="goal2" class="input-field" placeholder="Ej: Mejorar mi regulaci√≥n emocional mediante meditaci√≥n diaria de 10 min y terapia semanal durante 6 meses..."></textarea>
                </div>
                
                <div style="margin: 20px 0;">
                    <h4 style="color: #3498db; margin-bottom: 10px;">Meta 3: Desarrollo de Potencial</h4>
                    <textarea id="goal3" class="input-field" placeholder="Ej: Expandir mi creatividad tomando un curso de arte y dedicando 1 hora semanal a proyectos creativos..."></textarea>
                </div>
            </div>
            <button class="continue-btn" onclick="generateResults()">Generar Perfil Integral Completo ‚Üí</button>
        </div>

        <div class="results-container" id="resultsContainer">
            <h2 style="color: #667eea; margin-bottom: 25px;">üìä Perfil Integral Completo</h2>
            <div id="integralResults"></div>
        </div>
    </div>

    <script>
        let currentPhase = 1;
        let protocolData = {};

        function updateProgress() {
            const progress = (currentPhase / 7) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            const phaseNames = [
                'Preparaci√≥n e Inicio',
                'Evaluaci√≥n Cognitiva',
                'Evaluaci√≥n Emocional', 
                'Evaluaci√≥n √âtica y Social',
                'Exploraci√≥n Vocacional',
                'Integraci√≥n y S√≠ntesis',
                'Plan de Desarrollo'
            ];
            
            document.getElementById('progressText').textContent = 
                `Fase ${currentPhase} de 7 - ${phaseNames[currentPhase-1]}`;
        }

        function nextPhase() {
            // Guardar datos de la fase actual
            if (currentPhase === 1) {
                protocolData.purpose = document.getElementById('purpose').value;
                protocolData.virtues = document.getElementById('virtues').value;
                protocolData.defects = document.getElementById('defects').value;
                protocolData.moments = document.getElementById('moments').value;
            } else if (currentPhase === 7) {
                protocolData.goal1 = document.getElementById('goal1').value;
                protocolData.goal2 = document.getElementById('goal2').value;
                protocolData.goal3 = document.getElementById('goal3').value;
            }
            
            document.getElementById(`phase${currentPhase}`).classList.remove('active');
            currentPhase++;
            
            if (currentPhase <= 7) {
                setTimeout(() => {
                    document.getElementById(`phase${currentPhase}`).classList.add('active');
                    updateProgress();
                }, 500);
            }
        }

        function redirectTo(url) {
            // Guardar progreso antes de redireccionar
            localStorage.setItem('protocolData', JSON.stringify(protocolData));
            localStorage.setItem('protocolPhase', currentPhase);
            window.location.href = url;
        }

        function generateResults() {
            const results = `
                <div style="background: rgba(102, 126, 234, 0.2); padding: 30px; border-radius: 20px; margin: 20px 0;">
                    <h3 style="color: #667eea; margin-bottom: 20px;">üéØ Tu Perfil Integral CO‚Ä¢RA</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0;">
                        <div style="background: rgba(0,0,0,0.6); padding: 20px; border-radius: 15px;">
                            <h4 style="color: #2ecc71; margin-bottom: 15px;">‚úÖ Prop√≥sito Identificado</h4>
                            <p>${protocolData.purpose || 'No especificado'}</p>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.6); padding: 20px; border-radius: 15px;">
                            <h4 style="color: #3498db; margin-bottom: 15px;">üöÄ Virtudes Principales</h4>
                            <p>${protocolData.virtues ? protocolData.virtues.substring(0, 100) + '...' : 'Pendiente de evaluaci√≥n'}</p>
                        </div>
                        
                        <div style="background: rgba(0,0,0,0.6); padding: 20px; border-radius: 15px;">
                            <h4 style="color: #e74c3c; margin-bottom: 15px;">‚ö†Ô∏è √Åreas de Mejora</h4>
                            <p>${protocolData.defects ? protocolData.defects.substring(0, 100) + '...' : 'Pendiente de evaluaci√≥n'}</p>
                        </div>
                    </div>
                    
                    <div style="background: rgba(0,0,0,0.8); padding: 25px; border-radius: 15px; margin: 25px 0;">
                        <h4 style="color: #667eea; margin-bottom: 15px;">üìã Plan de Desarrollo Personalizado</h4>
                        
                        <div style="margin: 15px 0;">
                            <strong style="color: #2ecc71;">Meta 1 - Reforzar Virtudes:</strong>
                            <p style="margin-top: 5px;">${protocolData.goal1 || 'Pendiente de definici√≥n'}</p>
                        </div>
                        
                        <div style="margin: 15px 0;">
                            <strong style="color: #e74c3c;">Meta 2 - Reducir Defectos:</strong>
                            <p style="margin-top: 5px;">${protocolData.goal2 || 'Pendiente de definici√≥n'}</p>
                        </div>
                        
                        <div style="margin: 15px 0;">
                            <strong style="color: #3498db;">Meta 3 - Desarrollo Potencial:</strong>
                            <p style="margin-top: 5px;">${protocolData.goal3 || 'Pendiente de definici√≥n'}</p>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin: 30px 0;">
                        <p style="color: #764ba2; margin-bottom: 20px;">
                            <strong>Protocolo Integral Completado</strong><br>
                            Tienes una visi√≥n clara de virtudes, defectos y plan de acci√≥n personalizado
                        </p>
                        
                        <a href="evaluacion_vocacional.html" style="
                            background: linear-gradient(135deg, #667eea, #764ba2);
                            color: white;
                            padding: 20px 40px;
                            border-radius: 25px;
                            text-decoration: none;
                            font-weight: bold;
                            font-size: 1.2rem;
                            display: inline-block;
                            margin: 10px;
                        ">üéØ CONTINUAR A EVALUACI√ìN VOCACIONAL</a>
                        
                        <a href="index.html" style="
                            background: linear-gradient(135deg, #764ba2, #667eea);
                            color: white;
                            padding: 20px 40px;
                            border-radius: 25px;
                            text-decoration: none;
                            font-weight: bold;
                            font-size: 1.2rem;
                            display: inline-block;
                            margin: 10px;
                        ">üè† VOLVER AL INICIO</a>
                    </div>
                </div>
            `;
            
            document.getElementById('integralResults').innerHTML = results;
            document.getElementById('resultsContainer').style.display = 'block';
            document.getElementById('phase7').style.display = 'none';
        }

        // Inicializar
        updateProgress();
    </script>
    <script src="token_manager.js"></script>
    <script src="analytics_engine.js"></script>
</body>
</html>